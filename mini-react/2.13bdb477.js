(window.webpackJsonp=window.webpackJsonp||[]).push([[2],Array(22).concat([function(e,t,a){"use strict";a.r(t),a.d(t,"Dialog",(function(){return Dialog}));var o=a(0),s=a(5),n=a(2);class Dialog extends n.default.Component{constructor(){super(...arguments),this.state={position:{x:0,y:0}},this.contextNode=null}close(){this.contextNode&&(Object(o.replaceNode)(this.contextNode),this.contextNode=null)}open(e){return this.contextNode&&this.close(),this.initData(e),this.renderContainer(),this}initData(e){this.state=e,this.setState()}createContainer(){let e=document.querySelector("#dialog");if(e)return e;return(e=document.createElement("div")).id=e.className="dialog",document.querySelector("body").appendChild(e),e}renderContainer(){const e=this.createContainer(),t=Object(s.default)(this.render(),e);this.contextNode=t,this.afterRender&&this.afterRender()}render(){return n.default.createElement("div",null,n.default.createElement("div",{style:{top:this.state.position.y+Dialog.gapY+document.documentElement.scrollTop+"px",left:this.state.position.x+document.documentElement.scrollLeft+Dialog.gapX+"px"},className:"dialog-content"},this.content()))}}Dialog.gapX=-34,Dialog.gapY=40},,function(e,t,a){"use strict";a.r(t);var o=a(20);a.d(t,"Link",(function(){return o.Link}));var s=a(21);a.d(t,"Route",(function(){return s.Route}))},,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Cooper}));var o=a(38),s=a(2),n=a(39);class Cooper extends s.default.Component{constructor(){super(...arguments),this.activeTab="ALL",this.state={panel:{building:{name:"Building"},idle:{name:"Idle"},tabs:[]},cooperList:[],searchFilter:""},this.dialog=new o.AddItemDialog}loadCooperList(e){const t=n.default.getRandomCooperList(e);this.state.cooperList=t,this.setState()}loadPanelState(){const e=n.default.loadPanelState();this.state.panel.tabs=e,this.setState()}componentDidMount(){this.loadCooperList(),this.loadPanelState()}componentWillUnmount(){this.dialog=null}addTag(e,t){const{x:a,y:o}=e;this.dialog&&(this.dialog.open({position:{x:a,y:o}}).onSubmit=e=>{const{title:a}=e,o=a.split(" ").filter(Boolean).map(e=>({title:e}));t.tags.push(...o),t.tags=t.tags.splice(0,6),this.setState()})}removeTag(e,t){const a=e.tags.findIndex(e=>e===t);e.tags.splice(a,1),this.setState()}stateToggle(e){"idle"===e.status?e.status="building":e.status="idle",this.setState()}searchInputHandle(e){const t=e.target.value;this.state.searchFilter=t,this.setState()}tabHandle(e){const t=e.name;this.activeTab=t,this.setState(),this.loadCooperList(this.activeTab)}render(){return s.default.createElement("aside",{className:"app-cooper"},s.default.createElement("ul",{className:"cooper-info"},s.default.createElement("li",{className:"info-building panel font-bg icofont-ui-settings"},s.default.createElement("div",{className:"name"}," ",this.state.panel.building.name),s.default.createElement("div",{className:"count"},this.state.cooperList.filter(e=>"building"===e.status).length)),s.default.createElement("li",{className:"info-idle panel font-bg icofont-coffee-mug"},s.default.createElement("div",{className:"name"},this.state.panel.idle.name),s.default.createElement("div",{className:"count"},this.state.cooperList.filter(e=>"idle"===e.status).length)),s.default.createElement("li",{className:"info-detail"},s.default.createElement("table",null,s.default.createElement("tr",null,this.state.panel.tabs.map(e=>s.default.createElement("td",null,s.default.createElement("div",{className:"name"},e.name),s.default.createElement("div",{className:"count"},e.count))))))),s.default.createElement("ul",{className:"cooper-tab"},s.default.createElement("li",{className:"tab-filter"},s.default.createElement("ul",null,this.state.panel.tabs.map(e=>s.default.createElement("li",{active:e.name===this.activeTab,onClick:()=>this.tabHandle(e)},s.default.createElement("span",null,e.name))))),s.default.createElement("li",{className:"tab-search"},s.default.createElement("div",{className:"input-group"},s.default.createElement("label",{for:"search-input"},s.default.createElement("i",{className:"icofont-search-1"})),s.default.createElement("input",{id:"search-input",onInput:e=>this.searchInputHandle(e)}))),s.default.createElement("li",{className:"tab-th"},s.default.createElement("i",{className:"icofont-navigation-menu active"}))),s.default.createElement("ul",{className:"cooper-list"},this.state.cooperList.filter(e=>-1!==e.title.indexOf(this.state.searchFilter)).map(e=>s.default.createElement("li",{className:"cooper-list-item",building:"building"===e.status},s.default.createElement("div",{className:"logo"},s.default.createElement("img",{src:a(53)("./"+e.icon)})),s.default.createElement("div",{className:"detail"},s.default.createElement("ul",{className:"detail-header"},s.default.createElement("li",null,s.default.createElement("i",{className:"icofont-bulb-alt"}),s.default.createElement("span",{className:"detail-title"},e.title)),s.default.createElement("li",null,s.default.createElement("div",{className:"building"===e.status?"cooper-status status-building":"cooper-status"},e.status)),s.default.createElement("li",null,s.default.createElement("i",{className:"icofont-computer"}),e.ip),s.default.createElement("li",null,s.default.createElement("i",{className:"icofont-terminal"}),e.folderName)),s.default.createElement("div",{className:"detail-bottom"},s.default.createElement("button",{className:"add-button",onClick:t=>this.addTag(t,e)},s.default.createElement("i",{className:"icofont-ui-add"})),s.default.createElement("ul",{className:"tags"},e.tags.map(t=>s.default.createElement("li",null,s.default.createElement("span",null,t.title),s.default.createElement("i",{className:"icofont-close",onClick:()=>this.removeTag(e,t)})))),"building"===e.status?s.default.createElement("button",{className:"deny-button",onClick:()=>this.stateToggle(e)},s.default.createElement("i",{className:"icofont-not-allowed"}),s.default.createElement("span",null,"Deny")):s.default.createElement("button",{className:"deny-button",onClick:()=>this.stateToggle(e)},s.default.createElement("i",{style:"margin-right: 5px",className:"icofont-sign-in"}),s.default.createElement("span",null,"Build"))))))))}}},function(e,t,a){"use strict";a.r(t),a.d(t,"AddItemDialog",(function(){return AddItemDialog}));var o=a(2),s=a(22);class AddItemDialog extends s.Dialog{constructor(){super(...arguments),this.data={title:"Separate multiple name with commas",confirm:"Add Resources",cancel:"Cancel"}}afterRender(){document.querySelector(".dialog-input").focus()}submit(e){e.preventDefault();const t=e.target.title;this.onSubmit&&(this.onSubmit({title:t.value}),this.close())}content(){return o.default.createElement("div",null,o.default.createElement("div",{className:"triangle"}),o.default.createElement("div",{className:"triangle inner"}),o.default.createElement("div",{className:"dialog-close"},o.default.createElement("i",{onClick:()=>this.close(),className:"icofont-close"})),o.default.createElement("form",{onSubmit:e=>this.submit(e)},o.default.createElement("label",{for:"title"},o.default.createElement("div",{className:"dialog-title"},this.data.title)),o.default.createElement("input",{type:"text",className:"dialog-input",name:"title",id:"title",required:!0}),o.default.createElement("div",{className:"dialog-action"},o.default.createElement("button",{type:"submit",className:"dialog-confirm"},this.data.confirm),o.default.createElement("button",{type:"button",onClick:()=>this.close(),className:"dialog-cancel"},this.data.cancel))))}}},function(e,t,a){"use strict";a.r(t);const o=[{icon:"assets/os_icons/windows.jpg",title:"mini-cooper-01.oct16.cn",folderName:"/var/lib/app-cooper",ip:"192.168.1.125",status:"idle",tags:[{title:"Firefox"},{title:"Safari"},{title:"Ubuntu"},{title:"Chrome"}]},{icon:"assets/os_icons/windows.jpg",title:"mini-cooper-08.oct16.cn",folderName:"/var/lib/app-cooper",ip:"192.168.1.182",status:"building",tags:[{title:"Firefox"},{title:"Safari"},{title:"Ubuntu"},{title:"Chrome"}]},{icon:"assets/os_icons/ubuntu.png",title:"mini-cooper-10.oct16.cn",folderName:"/var/lib/app-cooper",ip:"192.168.1.62",status:"building",tags:[{title:"Firefox"},{title:"Safari"}]},{icon:"assets/os_icons/debian.jpg",title:"mini-cooper-11.oct16.cn",folderName:"/var/lib/app-cooper",ip:"192.168.1.204",status:"building",tags:[]},{icon:"assets/os_icons/debian.jpg",title:"mini-cooper-65.oct16.cn",folderName:"/var/lib/app-cooper",ip:"192.168.1.132",status:"idle",tags:[{title:"Firefox"},{title:"Safari"},{title:"Ubuntu"},{title:"Chrome"}]},{icon:"assets/os_icons/centos.jpg",title:"mini-cooper-01.oct16.cn",folderName:"/var/lib/app-cooper",ip:"192.168.1.112",status:"idle",tags:[{title:"Firefox"},{title:"Safari"},{title:"Ubuntu"},{title:"Chrome"}]},{icon:"assets/os_icons/centos.jpg",title:"mini-cooper-016.oct16.cn",folderName:"/var/lib/app-cooper",ip:"192.168.1.142",status:"idle",tags:[{title:"Firefox"},{title:"Ubuntu"},{title:"Chrome"}]}],s={pivot:()=>Math.floor(o.length/2),getRandomCooperList(e){return"PHYSICAL"===e?o.slice(0,this.pivot()):"VIRTUAL"===e?o.slice(this.pivot()):o},loadPanelState(){return[{name:"ALL",count:o.length},{name:"PHYSICAL",count:o.slice(0,this.pivot()).length},{name:"VIRTUAL",count:o.slice(this.pivot()).length}]}};t.default=s},,,,function(e,t){},function(e,t,a){"use strict";a.r(t);var o=a(68);describe("should ....",()=>{it("1 + 1 equal 2",()=>{Object(o.expect)(function(e,t){return e+t}(1,1)).to.be.equal(2)})})},,,,,,,function(e,t,a){},function(e,t){},function(e,t,a){var o={"./":11,"./assets/css/common/dialog.styl":12,"./assets/css/common/reset.styl":54,"./assets/css/common/variables.styl":55,"./assets/css/main.styl":13,"./assets/fonts/icofont.css":14,"./assets/fonts/icofont.eot":56,"./assets/fonts/icofont.svg":57,"./assets/fonts/icofont.ttf":58,"./assets/fonts/icofont.woff":59,"./assets/fonts/icofont.woff2":60,"./assets/logo/logo.png":42,"./assets/os_icons/centos.jpg":61,"./assets/os_icons/debian.jpg":62,"./assets/os_icons/ubuntu.png":63,"./assets/os_icons/windows.jpg":64,"./components/app":15,"./components/app.tsx":15,"./components/common/fork-github":28,"./components/common/fork-github.tsx":28,"./components/common/loading":33,"./components/common/loading.tsx":33,"./components/cooper/footer":29,"./components/cooper/footer.tsx":29,"./components/cooper/header":30,"./components/cooper/header.tsx":30,"./components/cooper/left-side":31,"./components/cooper/left-side.tsx":31,"./components/cooper/right-side":32,"./components/cooper/right-side.tsx":32,"./components/cooper/views/cooper":37,"./components/cooper/views/cooper.tsx":37,"./components/cooper/views/dashboard":34,"./components/cooper/views/dashboard.tsx":34,"./components/cooper/views/help":35,"./components/cooper/views/help.tsx":35,"./components/cooper/views/my":36,"./components/cooper/views/my.tsx":36,"./components/dialog":22,"./components/dialog/":22,"./components/dialog/add-item":38,"./components/dialog/add-item.tsx":38,"./components/dialog/index":22,"./components/dialog/index.tsx":22,"./index":11,"./index.pug":65,"./index.tsx":11,"./lib/model":43,"./lib/model.ts":43,"./react":2,"./react-dom":3,"./react-dom/":3,"./react-dom/diff":1,"./react-dom/diff.ts":1,"./react-dom/dom":0,"./react-dom/dom.ts":0,"./react-dom/index":3,"./react-dom/index.ts":3,"./react-dom/render":5,"./react-dom/render.ts":5,"./react-router-dom":24,"./react-router-dom/":24,"./react-router-dom/dynamic-import":10,"./react-router-dom/dynamic-import.tsx":10,"./react-router-dom/helper":23,"./react-router-dom/helper.ts":23,"./react-router-dom/index":24,"./react-router-dom/index.ts":24,"./react-router-dom/link":20,"./react-router-dom/link.tsx":20,"./react-router-dom/loadable":4,"./react-router-dom/loadable.tsx":4,"./react-router-dom/route":21,"./react-router-dom/route.tsx":21,"./react/":2,"./react/component":6,"./react/component.ts":6,"./react/create-element":9,"./react/create-element.ts":9,"./react/index":2,"./react/index.ts":2,"./react/life-cycle":7,"./react/life-cycle.ts":7,"./react/queue":8,"./react/queue.ts":8,"./services/cooper-service":39,"./services/cooper-service.ts":39,"./test/add.test":44,"./test/add.test.ts":44,"./types/declare":51,"./types/declare.ts":51,"./types/global":52,"./types/global.ts":52};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=n,e.exports=s,s.id=53},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"2xBLX3wS.eot"},function(e,t,a){e.exports=a.p+"2k3hKijL.svg"},function(e,t,a){e.exports=a.p+"3QuWmpn5.ttf"},function(e,t,a){e.exports=a.p+"3ohX8x3f.woff"},function(e,t,a){e.exports=a.p+"2nWLFZNG.woff2"},function(e,t,a){e.exports=a.p+"A9Z_PtsW.jpg"},function(e,t,a){e.exports=a.p+"1NwoPsvM.jpg"},function(e,t,a){e.exports=a.p+"UA-B6fU-.png"},function(e,t,a){e.exports=a.p+"22DLp6km.jpg"},function(e,t,a){var o=a(66);e.exports=function(e){var t,a="",s=e||{};return function(e){a=a+"<!DOCTYPE html><head><title>"+o.escape(null==(t=e.options.title)?"":t)+'</title></head><body><div id="app"></div>',"production"===e.options.env.NODE_ENV&&(a+="<script defer src=\"https://www.googletagmanager.com/gtag/js?id=UA-151180797-1\"><\/script><script>// \x3c!-- Global site tag (gtag.js) - Google Analytics --\x3e\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(){dataLayer.push(arguments);}\ngtag('js', new Date());\ngtag('config', 'UA-151180797-1');<\/script>"),a+="</body>"}.call(this,"htmlWebpackPlugin"in s?s.htmlWebpackPlugin:"undefined"!=typeof htmlWebpackPlugin?htmlWebpackPlugin:void 0),a}},,function(e,t){}])]);
//# sourceMappingURL=2.13bdb477.js.map